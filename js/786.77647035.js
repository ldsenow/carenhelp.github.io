"use strict";(self["webpackChunkcare"]=self["webpackChunkcare"]||[]).push([[786],{16786:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});n(67280),n(65363),n(90246);var o=n(83673),i=n(98880),a=n(62323);const l=(0,o._)("h1",{class:"text-h4"},"Settings",-1),s=(0,o.Uk)(" File size "),r=["innerHTML"];function p(e,t,n,p,m,d){const c=(0,o.up)("q-icon"),u=(0,o.up)("q-file"),w=(0,o.up)("q-btn"),v=(0,o.up)("q-td"),y=(0,o.up)("q-tr"),f=(0,o.up)("q-table"),C=(0,o.up)("q-card-section"),h=(0,o.up)("q-card"),g=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(g,{class:"items-center justify-evenly",style:{padding:"40px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(C,null,{default:(0,o.w5)((()=>[l,(0,o.Wm)(u,{filled:"","bottom-slots":"",modelValue:e.inventoryFile,"onUpdate:modelValue":[t[2]||(t[2]=t=>e.inventoryFile=t),e.parseCsv],label:"Xero inventory file",counter:""},{prepend:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"cloud_upload",onClick:t[0]||(t[0]=(0,i.iM)((()=>{}),["stop"]))})])),append:(0,o.w5)((()=>[(0,o.Wm)(c,{name:"close",onClick:t[1]||(t[1]=(0,i.iM)((t=>e.model=null),["stop"])),class:"cursor-pointer"})])),hint:(0,o.w5)((()=>[s])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(f,{style:{"margin-top":"30px"},rows:e.inventoryItems,columns:[{name:"itemCode",field:"itemCode",label:"Item Code",align:"left",style:"width:200px;"},{name:"itemShortCode",field:"itemShortCode",label:"Short Code",align:"left",style:"width:100px;"},{name:"description",field:"description",label:"Description",align:"left",style:"width:500px; white-space: initial"},{name:"unitPrice",field:"unitPrice",label:"Unit Price",align:"left"},{name:"salesTaxRate",field:"salesTaxRate",label:"Sales Tax",align:"left"}],"row-key":"itemCode",title:"Inventory Items",color:"primary","hide-pagination":!0,pagination:{rowsPerPage:1e4}},(0,o.Nv)({body:(0,o.w5)((e=>[(0,o.Wm)(y,{props:e},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{key:"itemCode",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.itemCode),1)])),_:2},1032,["props"]),(0,o.Wm)(v,{key:"itemShortCode",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.itemShortCode),1)])),_:2},1032,["props"]),(0,o.Wm)(v,{key:"description",props:e},{default:(0,o.w5)((()=>[(0,o._)("div",{innerHTML:e.row.description.replace(/(?:\r\n|\r|\n)/g,"<br/>")},null,8,r)])),_:2},1032,["props"]),(0,o.Wm)(v,{key:"unitPrice",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.unitPrice),1)])),_:2},1032,["props"]),(0,o.Wm)(v,{key:"salesTaxRate",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.row.salesTaxRate),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:2},[e.inventoryItems.length>0?{name:"top-right",fn:(0,o.w5)((()=>[(0,o.Wm)(w,{onClick:e.saveInventoryItems,color:"primary","icon-right":"save",label:"Save","no-caps":""},null,8,["onClick"])]))}:void 0]),1032,["rows"])])),_:1})])),_:1})])),_:1})}var m=n(61959),d=n(6015),c=n.n(d),u=n(80966),w=n(48825);const v=(0,o.aZ)({name:"Settings",components:{},setup(){const e=(0,w.Z)(),t=(0,m.iH)(null),n=(0,m.iH)([]);return u.Z.getInventoryItems().then((e=>{n.value=e})),{inventoryFile:t,inventoryItems:n,saveInventoryItems:()=>{u.Z.saveInventoryItems(n.value).then((()=>{e.notify({message:"Inventory items updated",color:"positive",icon:"info"})}))},parseCsv:()=>{t.value&&c().parse(t.value,{header:!0,skipEmptyLines:!0,complete:e=>{n.value=e.data.map((e=>({itemCode:e["*ItemCode"],itemShortCode:e.ItemName.includes("_")?e.ItemName.split("_")[0]:"",itemName:e.ItemName,description:e.SalesDescription,unitPrice:e.SalesUnitPrice,salesAccount:e.SalesAccount,salesTaxRate:e.SalesTaxRate})))}})}}}});var y=n(24379),f=n(10151),C=n(25589),h=n(64974),g=n(24554),k=n(22659),I=n(64607),_=n(18186),b=n(83884),S=n(7518),x=n.n(S);v.render=p;const W=v;x()(v,"components",{QPage:y.Z,QCard:f.Z,QCardSection:C.Z,QFile:h.Z,QIcon:g.Z,QTable:k.Z,QBtn:I.Z,QTr:_.Z,QTd:b.Z})}}]);