"use strict";(self["webpackChunkcare"]=self["webpackChunkcare"]||[]).push([[322],{55322:(e,l,i)=>{i.r(l),i.d(l,{default:()=>_});var t=i(83673),o=i(98880),a=i(62323);const n=(0,t._)("h1",{class:"text-h4"},"Prices",-1),r=(0,t.Uk)(" File size ");function p(e,l,i,p,s,c){const d=(0,t.up)("q-icon"),u=(0,t.up)("q-file"),m=(0,t.up)("q-btn"),w=(0,t.up)("q-td"),v=(0,t.up)("q-tr"),f=(0,t.up)("q-table"),C=(0,t.up)("q-card-section"),g=(0,t.up)("q-card"),h=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(h,{class:"items-center justify-evenly",style:{padding:"40px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[n,(0,t.Wm)(u,{filled:"","bottom-slots":"",modelValue:e.priceFile,"onUpdate:modelValue":[l[2]||(l[2]=l=>e.priceFile=l),e.parseCsv],label:"Prices list file",counter:""},{prepend:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"cloud_upload",onClick:l[0]||(l[0]=(0,o.iM)((()=>{}),["stop"]))})])),append:(0,t.w5)((()=>[(0,t.Wm)(d,{name:"close",onClick:l[1]||(l[1]=(0,o.iM)((l=>e.model=null),["stop"])),class:"cursor-pointer"})])),hint:(0,t.w5)((()=>[r])),_:1},8,["modelValue","onUpdate:modelValue"]),(0,t.Wm)(f,{style:{"margin-top":"30px"},rows:e.priceItems,columns:[{name:"clientCode",field:"clientCode",label:"Client Code",align:"left",style:"width:200px;"},{name:"price",field:"price",label:"Price",align:"left",style:"width:100px;"}],"row-key":"clientCode",title:"Prices for certain client.",color:"primary","hide-pagination":!0,pagination:{rowsPerPage:1e3}},(0,t.Nv)({body:(0,t.w5)((e=>[(0,t.Wm)(v,{props:e},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{key:"clientCode",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(e.row.clientCode),1)])),_:2},1032,["props"]),(0,t.Wm)(w,{key:"price",props:e},{default:(0,t.w5)((()=>[(0,t.Uk)((0,a.zw)(parseFloat(e.row.price.toFixed(2))),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:2},[e.priceItems.length>0?{name:"top-right",fn:(0,t.w5)((()=>[(0,t.Wm)(m,{onClick:e.savePriceItems,color:"primary","icon-right":"save",label:"Save","no-caps":""},null,8,["onClick"])]))}:void 0]),1032,["rows"])])),_:1})])),_:1})])),_:1})}var s=i(61959),c=i(6015),d=i.n(c),u=i(15156),m=i(48825);const w=(0,t.aZ)({name:"Prices",components:{},setup(){const e=(0,m.Z)(),l=(0,s.iH)(null),i=(0,s.iH)([]);return u.Z.getPriceItems().then((e=>{i.value=e})),{priceFile:l,priceItems:i,savePriceItems:()=>{u.Z.savePriceItems(i.value).then((()=>{e.notify({message:"Price items updated",color:"positive",icon:"info"})}))},parseCsv:()=>{l.value&&d().parse(l.value,{header:!0,skipEmptyLines:!0,complete:e=>{i.value=e.data.map((e=>({clientCode:null===e||void 0===e?void 0:e.clientCode,price:parseFloat(null===e||void 0===e?void 0:e.price)})))}})}}}});var v=i(24379),f=i(10151),C=i(25589),g=i(64974),h=i(24554),k=i(22659),y=i(64607),P=i(18186),Z=i(83884),b=i(7518),W=i.n(b);w.render=p;const _=w;W()(w,"components",{QPage:v.Z,QCard:f.Z,QCardSection:C.Z,QFile:g.Z,QIcon:h.Z,QTable:k.Z,QBtn:y.Z,QTr:P.Z,QTd:Z.Z})}}]);